@model userprofile.Models.TOURNAMENT
@{
    ViewBag.Title = "Details";
}

<div class="row">
    <div class="col-md-12">
        <div class="box">
            <div class="box-body">
                <div>
                    
                    @{
                        //check if this user is an organizer for the tournament
                        foreach (var org in Model.AspNetUsers)
                        {
                            if (User.Identity.Name == org.UserName)
                            {
                                @Html.ActionLink("Edit", "Edit", new { id = Model.tournamentId }, new { @class = "btn btn-warning pull-right" })
                            }
                        }

                        //admin is god
                        if (User.IsInRole("Admin"))
                        {
                            @Html.ActionLink("Edit", "Edit", new { id = Model.tournamentId }, new { @class = "btn btn-warning pull-right" })
                            @Html.ActionLink("Delete", "Delete", new { id = Model.tournamentId }, new { @class = "btn btn-danger pull-right" })
                        }
                    }
                    <h4>TOURNAMENT</h4>
                    <hr />
                    <dl class="dl-horizontal">
                        <dt>
                            @Html.DisplayNameFor(model => model.name)
                        </dt>
                        <dd>
                            @Html.DisplayFor(model => model.name)
                        </dd>
                        <dt>
                            @Html.DisplayNameFor(model => model.startDate)
                        </dt>
                        <dd>
                            @Html.DisplayFor(model => model.startDate)
                        </dd>
                        <dt>
                            @Html.DisplayNameFor(model => model.ageBracket)
                        </dt>
                        <dd>
                            @Html.DisplayFor(model => model.ageBracket)
                        </dd>
                        <dt>
                            @Html.DisplayNameFor(model => model.grade)
                        </dt>
                        <dd>
                            @Html.DisplayFor(model => model.grade)
                        </dd>
                        <dt>
                            @Html.DisplayNameFor(model => model.status)
                        </dt>
                        <dd>
                            @Html.DisplayFor(model => model.status)
                        </dd>
                        <dt>
                            @Html.DisplayNameFor(model => model.priority)
                        </dt>
                        <dd>
                            @Html.DisplayFor(model => model.priority)
                        </dd>
                        <dt>
                            @Html.DisplayNameFor(model => model.AspNetUser.UserName)
                        </dt>
                        <dd>
                            @Html.DisplayFor(model => model.AspNetUser.UserName)
                        </dd>
                        <dt>
                            @Html.DisplayNameFor(model => model.SPORT1.name)
                        </dt>
                        <dd>
                            @Html.DisplayFor(model => model.SPORT1.name)
                        </dd>
                    </dl>
                </div>
                <p>
                    
                    @Html.ActionLink("List of tournaments", "Index")
                </p>
            </div>
        </div>
    </div>
</div>