@model userprofile.Models.offersViewModels
@{
	ViewBag.Title = "";
	int i = 0;
	int j = 0;
}
<style>
	.hidde {
		display: none;
	}
</style>

<div class="row">
	<div class="col-md-9"> 
		<div class="box" style="background-color:rgba(255, 255, 255,0.7)">
			<div class="box-body">
				<h2>Manage Offer</h2>
				<div class="form-group" id="addnew">

					<a href="#" id="addnewoffer" class="btn btn-success pull-right" onclick="newOffer()">Add New Offer</a>


				</div>
				@foreach(var item in Model.offers) {

					if(item.status == "dummy") {
						<div class=" hidde" id="@i">
							<h1>lol</h1>
							@Html.DropDownList("referees", (List<SelectListItem>)ViewBag.referees, new { @Name = "refID" + i })
							@{j++;}

						</div>
					}
					else {
						<div class="" id="@i">

							@Html.DropDownList("referees", (List<SelectListItem>)ViewBag.referees, new { @Name = "refID" + i })

							<td>
								@Html.DisplayFor(modelItem => item.dateOfOffer, new { @id = "date" })
							</td>
							<td>
								@Html.DisplayFor(modelItem => item.MATCH.mID)
							</td>
							<td>
								@Html.DisplayFor(modelItem => item.REFEREE.availability)
							</td>
							<td>
								@Html.DisplayFor(modelItem => item.SPORT1.name)
							</td>
						</div>
					}
					i++;
				}
				
			</div>
		</div>
		</div>
	
	</div>
		<input type="text" id="flag" value="@j" hidden>

		<script>
    var i = $("#flag").val();

    function newOffer() {
        var j = 3 - i;
        $("#" + j).css("display", "block");

        i--;
        if (i < 1) {

            $("#addnew").css("display", "none");
        }
    }
		</script>

